<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-," />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CLARIFICA - O seu farol de investimentos</title>
    <link
      rel="icon"
      type="image/png"
      href="https://raw.githubusercontent.com/emerkaspar/clarifica/refs/heads/main/favicon.png"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    
    <script src="js/chart.umd.min.js"></script>
<script src="js/luxon.min.js"></script>
<script src="js/chartjs-adapter-luxon.min.js"></script> 
    
    <link rel="stylesheet" href="css/style.css" />
</head>
</head>
  <body>
    <div class="container">
      <div class="top-menu-container">
        <div class="top-menu-left">
          <a href="#" class="logo"
            ><img
              src="https://raw.githubusercontent.com/emerkaspar/clarifica/refs/heads/main/Clarifica_logo.png"
              alt="Logomarca Clarifica"
          /></a>
        </div>
        <nav class="header-nav">
          <a href="#">Funcionalidades</a>
          <a href="#">Para Quem é?</a>
          <a href="#">Contato</a>
        </nav>
        <div class="top-menu-right">
          <button id="btn-header-login-google">
            <i class="fab fa-google"></i> Fazer Login
          </button>
          <div id="user-info">
            <img id="user-photo" src="" alt="Foto do usuário" /><span
              id="user-name"
            ></span>
            <div id="user-dropdown">
              <div class="user-dropdown-header">
                <p id="dropdown-user-name"></p>
                <span id="dropdown-user-email"></span>
              </div>
              <a href="#" id="btn-logout" class="user-dropdown-item"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"
                  />
                </svg>
                Sair</a
              >
            </div>
          </div>
        </div>
      </div>

      <div id="welcome-section">
        <div class="welcome-content">
          <h1>
            Seu portfólio de investimentos,
            <span class="highlight">claro e consolidado.</span>
          </h1>
          <p>
            Acompanhe todos os seus ativos em um só lugar. Ações, FIIs, ETFs,
            Criptomoedas e Renda Fixa. Tome decisões melhores com análises e
            relatórios intuitivos.
          </p>
          <div class="features">
            <div class="feature-item">
              <i class="fas fa-chart-pie"></i>
              <h3>Consolide</h3>
              <p>
                Tenha uma visão unificada de todo o seu patrimônio em diferentes
                corretoras e classes de ativos.
              </p>
            </div>
            <div class="feature-item">
              <i class="fas fa-hand-holding-usd"></i>
              <h3>Acompanhe</h3>
              <p>
                Monitore a rentabilidade, o recebimento de proventos e a
                evolução de cada ativo da sua carteira.
              </p>
            </div>
            <div class="feature-item">
              <i class="fas fa-lightbulb"></i>
              <h3>Clarifique</h3>
              <p>
                Use nossas ferramentas e análises para entender seus
                investimentos e planejar os próximos passos.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div id="app-content">
        <div class="main-content-wrapper">
          <div class="nav-tabs-wrapper">
            <ul class="nav-tabs" id="myTab">
              <li>
                <a class="nav-link active" data-tab="patrimonio">Patrimônio</a>
              </li>
              <li>
                <a class="nav-link" data-tab="rentabilidade">Rentabilidade</a>
              </li>
              <li><a class="nav-link" data-tab="proventos">Proventos</a></li>
              <li><a class="nav-link" data-tab="acoes">Ações</a></li>
              <li><a class="nav-link" data-tab="fiis">Fiis</a></li>
              <li><a class="nav-link" data-tab="etf-cripto">Etf/Cripto</a></li>
              <li><a class="nav-link" data-tab="renda-fixa">Renda Fixa</a></li>
              <li><a class="nav-link" data-tab="calculos">Cálculos</a></li>
              <li><a class="nav-link" data-tab="analises">Análises</a></li>
              <li>
                <a class="nav-link" data-tab="lancamentos">Lançamentos</a>
              </li>
              <li>
                <a class="nav-link" data-tab="classificacao">Classificação</a>
              </li>
            </ul>
          </div>
          <div class="tab-content" id="myTabContent">
            <div class="tab-pane active" id="patrimonio">
              <h2>Visão Geral do Patrimônio</h2>
              <p>
                Em breve: consolidação total da sua carteira, gráficos de
                evolução e alocação por tipo de ativo.
              </p>
            </div>
            <div class="tab-pane" id="rentabilidade">
              <h2>Análise de Rentabilidade</h2>
              <p>
                Em breve: acompanhe a rentabilidade da sua carteira,
                comparativos com benchmarks e desempenho de cada ativo.
              </p>
            </div>

            <div class="tab-pane" id="proventos">
              <div class="content-container" style="max-width: 1200px">
                <div class="content-header">
                  <h3>Acompanhamento de Proventos</h3>
                  <div style="display: flex; gap: 15px">
                    <button
                      id="btn-meta-proventos"
                      class="btn-adicionar"
                      style="background-color: #3a404d"
                    >
                      <i class="fas fa-bullseye"></i> Definir Meta
                    </button>
                    <button id="btn-lancamento-provento" class="btn-adicionar">
                      <i class="fas fa-plus"></i> Lançar Provento
                    </button>
                  </div>
                </div>
                <div class="proventos-dashboard">
                  <div class="dashboard-left-column">
                    <div class="summary-card">
                      <h4 class="card-title">Resumo</h4>
                      <div class="summary-metric">
                        <div class="metric-header">
                          <span>Média Mensal (últ. 6 meses)</span>
                          <span id="meta-proventos-atingida">0%</span>
                        </div>
                        <div class="progress-bar-container">
                          <div
                            id="progress-bar-proventos"
                            class="progress-bar"
                          ></div>
                        </div>
                        <div class="metric-footer">
                          <span id="media-mensal-valor">R$ 0,00</span>
                          <span id="meta-mensal-valor">Meta: R$ 0,00</span>
                        </div>
                      </div>
                      <div class="summary-divider"></div>
                      <div class="summary-metric-row">
                        <div class="summary-metric-simple">
                          <label>Total de 12 meses</label>
                          <span id="total-12-meses">R$ 0,00</span>
                        </div>
                        <div class="summary-metric-simple">
                          <label>Total da carteira</label>
                          <span id="total-carteira-proventos">R$ 0,00</span>
                        </div>
                      </div>
                    </div>
                    <div class="summary-card">
                      <h4 class="card-title">Distribuição de proventos</h4>
                      <div class="pie-charts-container">
                        <div class="distribution-wrapper">
                          <p class="chart-label">Por Ativo</p>
                          <div class="chart-canvas-container">
                            <canvas id="proventos-por-ativo-chart"></canvas>
                          </div>
                        </div>
                        <div class="distribution-wrapper">
                          <p class="chart-label">Por Tipo (Ações/FIIs)</p>
                          <div id="dist-por-tipo-container"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="dashboard-right-column">
                    <div class="summary-card">
                      <div class="evolution-header">
                        <h4 class="card-title" style="margin: 0">
                          Evolução de Proventos
                        </h4>
                        <div class="evolution-filters">
                          <div
                            id="intervalo-filter-group"
                            class="filter-btn-group"
                          >
                            <button
                              class="filter-btn active"
                              data-intervalo="Mensal"
                            >
                              Mensal
                            </button>
                            <button class="filter-btn" data-intervalo="Anual">
                              Anual
                            </button>
                          </div>
                          <select id="periodo-filter" class="filter-select">
                            <option value="12m">Últimos 12 meses</option>
                            <option value="current_year">Ano atual</option>
                            <option value="5y">Últimos 5 anos</option>
                          </select>
                          <select id="tipo-ativo-filter" class="filter-select">
                            <option value="Todos">Todos os Tipos</option>
                            <option value="Ações">Ações</option>
                            <option value="FIIs">FIIs</option>
                          </select>
                          <select id="ativo-filter" class="filter-select">
                            <option value="Todos">Todos os Ativos</option>
                          </select>
                        </div>
                      </div>
                      <div class="evolution-chart-container">
                        <canvas id="proventos-evolucao-chart"></canvas>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="lista-wrapper" style="margin-top: 30px">
                  <div
                    class="lista-header"
                    style="
                      grid-template-columns: 2fr 1fr 1.5fr 1.5fr 1.5fr auto;
                      min-width: 600px;
                    "
                  >
                    <div class="header-col">Ativo</div>
                    <div class="header-col">Tipo</div>
                    <div class="header-col">Provento</div>
                    <div class="header-col">Data Pagamento</div>
                    <div class="header-col">Valor (R$)</div>
                    <div class="header-col" style="text-align: right">
                      Ações
                    </div>
                  </div>
                  <div id="proventos-lista"></div>
                </div>
              </div>
            </div>

            <div class="tab-pane" id="acoes">
                <div class="content-container" style="max-width: none">
                    <div class="content-header">
                        <h3>Carteira de Ações</h3>
                        <button id="btn-novo-lancamento-acao" class="btn-adicionar">
                            <i class="fas fa-plus"></i> Novo Lançamento
                        </button>
                    </div>
                    <div id="acoes-lista" class="fiis-grid-container">
                        <p>Calculando sua carteira de Ações...</p>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="fiis">
                <div class="content-container" style="max-width: none">
                    <div class="content-header">
                        <h3>Carteira de Fundos Imobiliários (FIIs)</h3>
                        <button id="btn-novo-lancamento-fii" class="btn-adicionar">
                            <i class="fas fa-plus"></i> Novo Lançamento
                        </button>
                    </div>
                    <div id="fiis-lista" class="fiis-grid-container">
                        <p>Calculando sua carteira de FIIs...</p>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="etf-cripto">
              <h2>ETFs e Criptomoedas</h2>
              <p>
                Em breve: consolidação de seus investimentos em ETFs e
                criptoativos.
              </p>
            </div>
            <div class="tab-pane" id="renda-fixa">
              <h2>Renda Fixa</h2>
              <p>
                Em breve: seus investimentos em Tesouro Direto, CDBs, LCIs, LCAs
                e outros.
              </p>
            </div>
            <div class="tab-pane" id="calculos">
              <h2>Cálculos e Projeções</h2>
              <p>
                Em breve: ferramentas para cálculos de preço médio, projeção de
                aposentadoria e outras simulações.
              </p>
            </div>
            <div class="tab-pane" id="analises">
              <h2>Análises Detalhadas</h2>
              <p>Em breve: análises detalhadas de seus investimentos.</p>
            </div>

            <div class="tab-pane" id="lancamentos">
              <div class="content-container">
                <div
                  id="movimentacao-chart-container"
                  style="margin-bottom: 30px"
                >
                  <h3
                    style="color: #e0e0e0; margin-top: 0; margin-bottom: 15px"
                  >
                    Movimentação (Últimos 6 Meses)
                  </h3>
                  <canvas id="movimentacao-chart"></canvas>
                </div>
                <div class="content-header">
                  <h3>Histórico de Lançamentos</h3>
                  <div style="display: flex; align-items: center; gap: 15px">
                    <input
                      type="search"
                      id="search-ativo"
                      placeholder="Pesquisar ativo..."
                    />
                    <button id="btn-mostrar-form" class="btn-adicionar">
                      <i class="fas fa-plus"></i> Novo Lançamento
                    </button>
                  </div>
                </div>
                <div class="lista-wrapper">
                  <div
                    class="lista-header"
                    style="
                      grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr 1fr auto;
                      min-width: 700px;
                    "
                  >
                    <div class="header-col">Ativo</div>
                    <div class="header-col">Tipo</div>
                    <div class="header-col">Ordem</div>
                    <div class="header-col">Quantidade</div>
                    <div class="header-col">Preço Unitário</div>
                    <div class="header-col">Total</div>
                    <div class="header-col" style="text-align: right">
                      Ações
                    </div>
                  </div>
                  <div id="historico-lista"></div>
                </div>
              </div>
            </div>

            <div class="tab-pane" id="classificacao">
              <div class="content-container">
                <div class="content-header">
                  <h3>Classificação de Ativos</h3>
                  <p style="color: #a0a7b3; margin: 0; font-size: 0.9rem">
                    Classifique um ativo uma única vez. A categoria será
                    aplicada a todos os seus lançamentos.
                  </p>
                </div>
                <div class="lista-wrapper">
                  <div
                    class="lista-header"
                    style="
                      grid-template-columns: 2fr 1.5fr 1.5fr auto;
                      min-width: 500px;
                    "
                  >
                    <div class="header-col">Ativo</div>
                    <div class="header-col">Tipo</div>
                    <div class="header-col">Status</div>
                    <div class="header-col" style="text-align: right">
                      Ações
                    </div>
                  </div>
                  <div id="classificacao-lista"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="lancamento-modal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="lancamento-modal-title">Adicionar Lançamento</h2>
          <button class="modal-close-btn" data-modal="lancamento-modal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="form-novo-ativo">
            <input type="hidden" id="doc-id" name="doc-id" />
            <div class="tipo-operacao-modal">
              <button type="button" class="btn-compra active" data-op="compra">
                <i class="fas fa-arrow-down"></i> Compra
              </button>
              <button type="button" class="btn-venda" data-op="venda">
                <i class="fas fa-arrow-up"></i> Venda
              </button>
            </div>
            <input
              type="hidden"
              id="operacao-tipo"
              name="operacao-tipo"
              value="compra"
            />
            <div class="form-grid">
              <div>
                <label for="tipo-ativo" class="form-label">Tipo de ativo</label>
                <select
                  id="tipo-ativo"
                  name="tipo-ativo"
                  class="form-select"
                  required
                >
                  <option value="Ações">Ações</option>
                  <option value="FIIs">FIIs</option>
                  <option value="ETF">ETF</option>
                  <option value="Cripto">Criptomoedas</option>
                  <option value="Renda Fixa">Renda Fixa</option>
                  <option value="Tesouro Direto">Tesouro Direto</option>
                </select>
              </div>
              <div class="input-wrapper">
                <label for="ativo" class="form-label">Ativo</label>
                <input
                  type="text"
                  id="ativo"
                  name="ativo"
                  placeholder="Ex: PETR4"
                  class="form-input"
                  required
                  autocomplete="off"
                />
                <div id="ativo-sugestoes" class="sugestoes-lista"></div>
              </div>
              <div class="input-icon-wrapper">
                <label for="data-operacao" class="form-label"
                  >Data da Operação</label
                >
                <i class="fas fa-calendar-alt"></i>
                <input
                  type="date"
                  id="data-operacao"
                  name="data-operacao"
                  class="form-input"
                  required
                />
              </div>
              <div>
                <label for="quantidade" class="form-label">Quantidade</label>
                <input
                  type="number"
                  id="quantidade"
                  name="quantidade"
                  value="1"
                  step="any"
                  class="form-input"
                  required
                />
              </div>
              <div>
                <label for="preco" class="form-label">Preço em R$</label>
                <input
                  type="number"
                  id="preco"
                  name="preco"
                  placeholder="0,00"
                  step="0.01"
                  class="form-input"
                  required
                />
              </div>
              <div>
                <label
                  for="outros-custos"
                  class="form-label"
                  style="
                    display: flex;
                    justify-content: space-between;
                    width: 100%;
                  "
                >
                  <span>Outros custos</span
                  ><span style="color: #888">(Opcional)</span>
                </label>
                <input
                  type="number"
                  id="outros-custos"
                  name="outros-custos"
                  placeholder="0,00"
                  step="0.01"
                  class="form-input"
                />
              </div>
            </div>
            <div class="modal-valor-total">
              <span class="label">Valor total</span>
              <span class="value" id="valor-total-calculado">R$ 0,00</span>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn-cancelar"
                data-modal="lancamento-modal"
              >
                Cancelar
              </button>
              <button type="submit" class="btn-adicionar">
                <i class="fas fa-plus"></i> Adicionar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="provento-modal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="provento-modal-title">Lançar Provento Recebido</h2>
          <button class="modal-close-btn" data-modal="provento-modal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="form-novo-provento">
            <input type="hidden" id="provento-doc-id" name="doc-id" />
            <div class="tipo-operacao-modal" style="margin-bottom: 25px">
              <button
                type="button"
                class="btn-tipo-provento active"
                data-tipo="Ações"
              >
                <i class="fas fa-chart-line"></i> Ações
              </button>
              <button type="button" class="btn-tipo-provento" data-tipo="FIIs">
                <i class="fas fa-building"></i> FIIs
              </button>
            </div>
            <input
              type="hidden"
              id="provento-tipo-ativo"
              name="provento-tipo-ativo"
              value="Ações"
            />
            <div class="form-grid" style="grid-template-columns: 1fr 1fr">
              <div class="input-wrapper">
                <label for="provento-ativo" class="form-label"
                  >Ticker do Ativo</label
                >
                <input
                  type="text"
                  id="provento-ativo"
                  name="provento-ativo"
                  placeholder="Ex: PETR4 ou HGBS11"
                  class="form-input"
                  required
                  autocomplete="off"
                />
                <div
                  id="provento-ativo-sugestoes"
                  class="sugestoes-lista"
                ></div>
              </div>
              <div>
                <label for="provento-tipo-provento" class="form-label"
                  >Tipo de Provento</label
                >
                <select
                  id="provento-tipo-provento"
                  name="provento-tipo-provento"
                  class="form-select"
                  required
                >
                  <option value="Dividendos">Dividendos</option>
                  <option value="JCP">JCP (Juros s/ Capital Próprio)</option>
                  <option value="Premios por opção">Prêmios por opção</option>
                </select>
              </div>
              <div class="input-icon-wrapper">
                <label for="provento-data-pagamento" class="form-label"
                  >Data de Pagamento</label
                >
                <i class="fas fa-calendar-alt"></i>
                <input
                  type="date"
                  id="provento-data-pagamento"
                  name="provento-data-pagamento"
                  class="form-input"
                  required
                />
              </div>
              <div>
                <label for="provento-valor" class="form-label"
                  >Valor Recebido em R$ (Total)</label
                >
                <input
                  type="number"
                  id="provento-valor"
                  name="provento-valor"
                  placeholder="0,00"
                  step="0.01"
                  class="form-input"
                  required
                />
              </div>
            </div>
            <div
              class="modal-footer"
              style="padding-top: 25px; padding-right: 0; padding-bottom: 0"
            >
              <button
                type="button"
                class="btn-cancelar"
                data-modal="provento-modal"
              >
                Cancelar
              </button>
              <button type="submit" class="btn-adicionar">
                <i class="fas fa-plus"></i> Lançar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="meta-proventos-modal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="meta-proventos-modal-title">
            Definir Meta Mensal de Proventos
          </h2>
          <button class="modal-close-btn" data-modal="meta-proventos-modal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="form-meta-proventos">
            <div class="form-grid" style="grid-template-columns: 1fr">
              <div>
                <label for="meta-valor" class="form-label"
                  >Meta mensal de valor R$</label
                >
                <input
                  type="number"
                  id="meta-valor"
                  name="meta-valor"
                  placeholder="500,00"
                  step="0.01"
                  class="form-input"
                  required
                />
              </div>
              <div class="input-icon-wrapper">
                <label for="meta-data-conclusao" class="form-label"
                  >Data para conclusão da meta</label
                >
                <i class="fas fa-calendar-alt"></i>
                <input
                  type="date"
                  id="meta-data-conclusao"
                  name="meta-data-conclusao"
                  class="form-input"
                  required
                />
              </div>
            </div>
            <div
              class="modal-footer"
              style="padding-top: 25px; padding-right: 0; padding-bottom: 0"
            >
              <button
                type="button"
                class="btn-cancelar"
                data-modal="meta-proventos-modal"
              >
                Cancelar
              </button>
              <button type="submit" class="btn-salvar">
                <i class="fas fa-save"></i> Salvar Meta
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="classificacao-modal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="classificacao-modal-title">Classificar Ativo</h2>
          <button class="modal-close-btn" data-modal="classificacao-modal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="form-classificacao">
            <input type="hidden" id="classificacao-ativo-ticker" />
            <input type="hidden" id="classificacao-ativo-tipo" />
            <p style="color: #a0a7b3; margin-top: 0">
              Ativo:
              <strong
                id="classificacao-ativo-nome"
                style="color: #e0e0e0"
              ></strong>
            </p>
            <div
              id="classificacao-fields-container"
              class="form-grid"
              style="margin-bottom: 0"
            ></div>
            <div
              class="modal-footer"
              style="padding-top: 25px; padding-right: 0; padding-bottom: 0"
            >
              <button
                type="button"
                class="btn-cancelar"
                data-modal="classificacao-modal"
              >
                Cancelar
              </button>
              <button type="submit" class="btn-salvar">
                <i class="fas fa-save"></i> Salvar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    
    <div id="ativo-detalhes-modal" class="modal-overlay">
      <div class="modal-content" style="max-width: 800px;">
        <div class="modal-header">
          <h2 id="ativo-detalhes-modal-title">Detalhes do Ativo</h2>
          <button class="modal-close-btn" data-modal="ativo-detalhes-modal">
            &times;
          </button>
        </div>
        <div class="modal-body" style="padding: 0;">
          <div class="fii-detalhes-tabs">
            <button class="fii-detalhes-tab-link active" data-tab="performance">Performance</button>
            <button class="fii-detalhes-tab-link" data-tab="lancamentos">Lançamentos</button>
            <button class="fii-detalhes-tab-link" data-tab="proventos">Proventos</button>
          </div>
          <div class="fii-detalhes-tab-content active" id="ativo-detalhes-performance">
            <div class="performance-chart-container">
                <canvas id="performance-chart"></canvas>
            </div>
          </div>
          <div class="fii-detalhes-tab-content" id="ativo-detalhes-lancamentos">
            </div>
          <div class="fii-detalhes-tab-content" id="ativo-detalhes-proventos">
            </div>
        </div>
      </div>
    </div>

    <script src="js/main.js" type="module"></script>
  </body>
</html>